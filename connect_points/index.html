<!DOCTYPE html>
<html>

<head>
    <link
        rel="stylesheet"
        href="style.css"
    />
</head>

<body>
    <script
        type="text/javascript"
        src="./index.js"
    ></script>

    <input
        type="file"
        id="file_input"
        accept=".txt"
        hidden
    >

    <div class="maxwidth">
        <h1>
            Grid connector
        </h1>

        <div class="canvas_info">
            <div class="option_column">
                <button onclick="decrease_grid_size()">-</button>
                <button onclick="increase_grid_size()">+</button>
                Grid size: <span id="grid_size">1</span>
                <br />

                <button onclick="decrease_line_width()">-</button>
                <button onclick="increase_line_width()">+</button>
                Line width: <span id="line_width">1</span>
                <br />

                <button onclick="decrease_circle_spacing()">-</button>
                <button onclick="increase_circle_spacing()">+</button>
                Circle spacing: <span id="circle_spacing">1</span>
                <br />

                <button onclick="decrease_circle_radius()">-</button>
                <button onclick="increase_circle_radius()">+</button>
                Circle radius: <span id="circle_radius">1</span>
                <br />

                <input
                    id="mark_intersecting_edges"
                    type="checkbox"
                    checked
                >
                Mark intersecting edges
                <br />

                <input
                    id="mark_connected_vertices"
                    type="checkbox"
                    checked
                >
                Mark connected vertices
                <br />

                <input
                    id="auto_connect_circles"
                    type="checkbox"
                    checked
                >
                Auto connect circles
            </div>

            <div class="info_column">
                Vertices connected:
                <span id="vertices_connected">0</span>
                /
                <span id="total_vertices">0</span>
                <br />

                Total connections:
                <span id="total_connections">0</span>
                <br />

                d(G):
                <span id="d_g">0</span>
            </div>
        </div>

        <button
            onclick="reset_grid()"
            style="margin-right: 2em;"
        >Reset connections</button>
        <button onclick="perform_undo()">Undo</button>
        <button
            onclick="perform_redo()"
            style="margin-right: 2em;"
        >Redo</button>
        <button onclick="import_grid()">Import</button>
        <button onclick="export_grid()">Export</button>
    </div>

    <div class="centered">
        <canvas
            id="main_canvas"
            width="700"
            height="700"
        ></canvas>
    </div>

    <div class="maxwidth">
        <h2>
            Controls
        </h2>
        <p>
            - Hold left mouse button: connect circles with an edge.
            <br />
            - Hold right mouse button: disconnect circles by removing edge between them (if there is one).
            <br />
            - CTRL+Z: undo connection.
            <br />
            - CTRL+Y: redo connection.
        </p>

        <h2>
            Import/Export
        </h2>
        <p>
            Data is imported/exported in following format:
            <br />
            <textarea
                rows=4
                cols=80
                readonly
            >
grid_size
edge_1_from_idx edge_1_to_idx
edge_2_from_idx edge_2_to_idx
...
edge_n_from_idx edge_n_to_idx</textarea>
            <br />
            Here, indexes are in range [1, grid_size * grid_size].
            <br />
            Invalid connections (such as edge connecting vertex A with vertex A or duplicate connection) upon import
            will be automatically removed.
            <br />
            Example of valid import grid data for 5x5 grid:
            <textarea
                rows=4
                cols=80
                readonly
            >
5
1 12
12 19
8 19
8 15</textarea>
        </p>

        <h2>
            Motivation
        </h2>
        <p>
            This page was made to aid solving graph connection related problems.
        </p>
        <p>
            Problem 1: Given Hamiltonian cycle whose edges do not self-intersect, find such cycle that maximises
            d(G).
            <br />
            <img
                src="Images/formulas.png"
                alt="Problem formulas"
            >
        </p>

        <p>
            <br />
            <br />
            Problems author: Giedrius Alkauskas
        </p>
    </div>
</body>

</html>